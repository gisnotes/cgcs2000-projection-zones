import{$t as e,Gt as t,K as n,Kt as r,Lt as i,Qt as a,U as o,Vt as s,W as c,Wt as l,Yt as u,Zt as d,ct as f,hn as p,ht as m,it as h,ln as g,mn as _,pt as v,s as ee}from"./extent-xfEy-34H.js";import{C as te,D as y,E as b,H as ne,I as x,K as S,O as C,P as re,Q as w,R as T,S as ie,_ as E,c as D,d as O,et as ae,f as k,h as A,k as j,l as M,lt as N,m as P,p as F,rt as I,s as L,st as R,t as oe,tt as z,u as B,v as V,y as H,z as U}from"./index-CFb9KY5k.js";import{t as W}from"./MapEventType-B0kHgABJ.js";var G=`utils/vue/vnode`,K=t=>{if(!H(t))return e(G,`[getNormalizedProps] must be a VNode`),{};let n=t.props||{},r=(H(t.type)?t.type.props:void 0)||{},i={};return Object.keys(r).forEach(e=>{z(r[e],`default`)&&(i[e]=r[e].default)}),Object.keys(n).forEach(e=>{i[ae(e)]=n[e]}),i},q=e=>{let t=I(e)?e:[e],n=[];return t.forEach(e=>{I(e)?n.push(...q(e)):H(e)&&e.component?.subTree?n.push(e,...q(e.component.subTree)):H(e)&&I(e.children)?n.push(...q(e.children)):H(e)&&e.shapeFlag===2?n.push(...q(e.type())):n.push(e)}),n},J=Symbol(`elDescriptions`),Y=A({name:`ElDescriptionsCell`,props:{cell:{type:Object},tag:{type:String,default:`td`},type:{type:String}},setup(){return{descriptions:V(J,{})}},render(){let e=K(this.cell),t=(this.cell?.dirs||[]).map(e=>{let{dir:t,arg:n,modifiers:r,value:i}=e;return[t,i,n,r]}),{border:n,direction:r}=this.descriptions,i=r===`vertical`,a=()=>{var t;return((t=this.cell?.children)?.label)?.call(t)||e.label},o=()=>{var e;return((e=this.cell?.children)?.default)?.call(e)},c=e.span,l=e.rowspan,u=e.align?`is-${e.align}`:``,d=e.labelAlign?`is-${e.labelAlign}`:u,f=e.className,p=e.labelClassName,m={width:s(this.type===`label`?e.labelWidth??this.descriptions.labelWidth??e.width:e.width),minWidth:s(e.minWidth)},h=_(`descriptions`);switch(this.type){case`label`:return U(E(this.tag,{style:m,class:[h.e(`cell`),h.e(`label`),h.is(`bordered-label`,n),h.is(`vertical-label`,i),d,p],colSpan:i?c:1,rowspan:i?1:l},a()),t);case`content`:return U(E(this.tag,{style:m,class:[h.e(`cell`),h.e(`content`),h.is(`bordered-content`,n),h.is(`vertical-content`,i),u,f],colSpan:i?c:c*2-1,rowspan:i?l*2-1:l},o()),t);default:{let n=a(),r={},i=s(e.labelWidth??this.descriptions.labelWidth);return i&&(r.width=i,r.display=`inline-block`),U(E(`td`,{style:m,class:[h.e(`cell`),u],colSpan:c,rowspan:l},[g(n)?void 0:E(`span`,{style:r,class:[h.e(`label`),p]},n),E(`span`,{class:[h.e(`content`),f]},o())]),t)}}}}),se=d({row:{type:a(Array),default:()=>[]}}),ce={key:1},le=r(A({name:`ElDescriptionsRow`,__name:`descriptions-row`,props:se,setup(e){let t=V(J,{});return(e,n)=>w(t).direction===`vertical`?(b(),k(L,{key:0},[M(`tr`,null,[(b(!0),k(L,null,C(e.row,(e,t)=>(b(),B(w(Y),{key:`tr1-${t}`,cell:e,tag:`th`,type:`label`},null,8,[`cell`]))),128))]),M(`tr`,null,[(b(!0),k(L,null,C(e.row,(e,t)=>(b(),B(w(Y),{key:`tr2-${t}`,cell:e,tag:`td`,type:`content`},null,8,[`cell`]))),128))])],64)):(b(),k(`tr`,ce,[(b(!0),k(L,null,C(e.row,(e,n)=>(b(),k(L,{key:`tr3-${n}`},[w(t).border?(b(),k(L,{key:0},[P(w(Y),{cell:e,tag:`td`,type:`label`},null,8,[`cell`]),P(w(Y),{cell:e,tag:`td`,type:`content`},null,8,[`cell`])],64)):(b(),B(w(Y),{key:1,cell:e,tag:`td`,type:`both`},null,8,[`cell`]))],64))),128))]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue`]]),ue=d({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},size:u,title:{type:String,default:``},extra:{type:String,default:``},labelWidth:{type:[String,Number]}}),X=`ElDescriptionsItem`,de=r(A({name:`ElDescriptions`,__name:`description`,props:ue,setup(e){let t=e,n=_(`descriptions`),r=i(),a=re();y(J,t);let o=D(()=>[n.b(),n.m(r.value)]),s=(e,t,n,r=!1)=>(e.props||={},t>n&&(e.props.span=n),r&&(e.props.span=t),e),c=()=>{if(!a.default)return[];let e=q(a.default()).filter(e=>e?.type?.name===X),n=[],r=[],i=t.column,o=0,c=[];return e.forEach((a,l)=>{var u;let d=a.props?.span||1,f=a.props?.rowspan||1,p=n.length;if(c[p]||(c[p]=0),f>1)for(let e=1;e<f;e++)c[u=p+e]||(c[u]=0),c[p+e]++,o++;if(c[p]>0&&(i-=c[p],c[p]=0),l<e.length-1&&(o+=d>i?i:d),l===e.length-1){let e=t.column-o%t.column;r.push(s(a,e,i,!0)),n.push(r);return}d<i?(i-=d,r.push(a)):(r.push(s(a,d,i)),n.push(r),i=t.column,r=[])}),n};return(e,t)=>(b(),k(`div`,{class:R(o.value)},[e.title||e.extra||e.$slots.title||e.$slots.extra?(b(),k(`div`,{key:0,class:R(w(n).e(`header`))},[M(`div`,{class:R(w(n).e(`title`))},[j(e.$slots,`title`,{},()=>[F(N(e.title),1)])],2),M(`div`,{class:R(w(n).e(`extra`))},[j(e.$slots,`extra`,{},()=>[F(N(e.extra),1)])],2)],2)):O(`v-if`,!0),M(`div`,{class:R(w(n).e(`body`))},[M(`table`,{class:R([w(n).e(`table`),w(n).is(`bordered`,e.border)])},[M(`tbody`,null,[(b(!0),k(L,null,C(c(),(e,t)=>(b(),B(le,{key:t,row:e},null,8,[`row`]))),128))])],2)],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue`]]),Z=[`left`,`center`,`right`],Q=A({name:X,props:d({label:{type:String,default:``},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:``},minWidth:{type:[String,Number],default:``},labelWidth:{type:[String,Number]},align:{type:String,values:Z,default:`left`},labelAlign:{type:String,values:Z},className:{type:String,default:``},labelClassName:{type:String,default:``}})}),fe=l(de,{DescriptionsItem:Q}),pe=t(Q),me={viewBox:`0 0 1024 1024`,width:`1.2em`,height:`1.2em`};function he(e,t){return b(),k(`svg`,me,[...t[0]||=[M(`path`,{fill:`currentColor`,d:`M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z`},null,-1)]])}var ge=ne({name:`ep-close`,render:he}),$={ELEMENT:`element`,MAP:`map`,OFFSET:`offset`,POSITION:`position`,POSITIONING:`positioning`},_e=class extends f{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst===void 0?!0:e.insertFirst,this.stopEvent=e.stopEvent===void 0?!0:e.stopEvent,this.element=document.createElement(`div`),this.element.className=e.className===void 0?`ol-overlay-container `+h:e.className,this.element.style.position=`absolute`,this.element.style.pointerEvents=`auto`,this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:``,visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener($.ELEMENT,this.handleElementChanged),this.addChangeListener($.MAP,this.handleMapChanged),this.addChangeListener($.OFFSET,this.handleOffsetChanged),this.addChangeListener($.POSITION,this.handlePositionChanged),this.addChangeListener($.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset===void 0?[0,0]:e.offset),this.setPositioning(e.positioning||`top-left`),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get($.ELEMENT)}getId(){return this.id}getMap(){return this.get($.MAP)||null}getOffset(){return this.get($.OFFSET)}getPosition(){return this.get($.POSITION)}getPositioning(){return this.get($.POSITIONING)}handleElementChanged(){n(this.element);let e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&=(this.element?.remove(),m(this.mapPostrenderListenerKey),null);let e=this.getMap();if(e){this.mapPostrenderListenerKey=v(e,W.POSTRENDER,this.render,this),this.updatePixelPosition();let t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set($.ELEMENT,e)}setMap(e){this.set($.MAP,e)}setOffset(e){this.set($.OFFSET,e)}setPosition(e){this.set($.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){let t=this.getMap();if(!t||!t.getTargetElement()||!this.get($.POSITION))return;let n=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),i=this.getRect(r,[c(r),o(r)]);e||={};let a=e.margin===void 0?20:e.margin;if(!ee(n,i)){let r=i[0]-n[0],o=n[2]-i[2],s=i[1]-n[1],c=n[3]-i[3],l=[0,0];if(r<0?l[0]=r-a:o<0&&(l[0]=Math.abs(o)+a),s<0?l[1]=s-a:c<0&&(l[1]=Math.abs(c)+a),l[0]!==0||l[1]!==0){let n=t.getView().getCenterInternal(),r=t.getPixelFromCoordinateInternal(n);if(!r)return;let i=[r[0]+l[0],r[1]+l[1]],a=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(i),duration:a.duration,easing:a.easing})}}}getRect(e,t){let n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+t[0],i+t[1]]}setPositioning(e){this.set($.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?``:`none`,this.rendered.visible=e)}updatePixelPosition(){let e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}let n=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(n,r)}updateRenderedPosition(e,t){let n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);let a=`${e[0]+r[0]}px`,o=`${e[1]+r[1]}px`,s=`0%`,c=`0%`;i==`bottom-right`||i==`center-right`||i==`top-right`?s=`-100%`:(i==`bottom-center`||i==`center-center`||i==`top-center`)&&(s=`-50%`),i==`bottom-left`||i==`bottom-center`||i==`bottom-right`?c=`-100%`:(i==`center-left`||i==`center-center`||i==`center-right`)&&(c=`-50%`);let l=`translate(${s}, ${c}) translate(${a}, ${o})`;this.rendered.transform_!=l&&(this.rendered.transform_=l,n.transform=l)}getOptions(){return this.options}},ve={class:`popup-header`},ye=[`title`],be={class:`popup-content`},xe=oe({__name:`index`,props:{title:{type:String,default:`标题`},position:{type:Array,default:()=>[]},offset:{type:Array,default:()=>[0,-5]},autoPan:{type:Boolean,default:!0},propeties:{type:Object,default:()=>({})},popupInfo:{type:Object,default:()=>({})}},emits:[`close`],setup(e,{emit:t}){let n=e,r=null,i=S(),a=t,o=V(`state`),s=V(`isMapCreated`),c=D(()=>n.autoPan?{animation:{duration:250},margin:30}:n.autoPan);x(()=>n.position,e=>{r&&(e?(r.setOffset(n.offset),r.setPosition(e)):r.setPosition(void 0))},{deep:!0}),x(s,e=>{e&&o.map.addOverlay(r)}),te(()=>{r=new _e({element:i.value,offset:n.offset,autoPan:c,positioning:`bottom-center`}),r.setOffset(n.offset),r.setPosition(void 0)});function l(){r.setPosition(void 0),a(`close`)}return ie(()=>{r&&r.setPosition(void 0)}),(t,n)=>{let r=ge,a=pe,o=fe;return b(),k(`div`,{class:`popup`,ref_key:`popup`,ref:i},[M(`div`,ve,[M(`div`,{class:`popup-title`,title:e.title},N(e.title),9,ye),M(`div`,{class:`popup-close`,onClick:l},[P(r)])]),M(`div`,be,[P(o,{column:1,size:`small`,border:``},{default:T(()=>[(b(!0),k(L,null,C(e.propeties,t=>(b(),B(a,{"label-width":`70px`,key:t.val,label:t.val},{default:T(()=>[F(N(e.popupInfo[t.key]?e.popupInfo[t.key]+` `+(t.unit?t.unit:``):`--`),1)]),_:2},1032,[`label`]))),128))]),_:1})])],512)}}},[[`__scopeId`,`data-v-b79a8307`]]);export{xe as t};