import{$t as e,At as t,Gt as n,Jt as r,Lt as i,M as a,Rt as o,Sn as s,Ut as c,Vt as l,Wt as u,Zt as d,_n as f,en as p,k as m,mn as h,on as g,sn as ee,tn as _,un as te,ut as v,vn as y,wn as b}from"./css-B7ssKLdc.js";import{$ as ne,C as x,E as re,H as S,I as ie,L as ae,M as oe,P as se,Q as C,S as ce,V as w,W as T,Y as E,Z as le,_ as D,b as O,c as ue,d as k,et as de,f as A,ft as j,g as M,ht as fe,k as N,l as pe,lt as me,m as P,mt as he,n as F,nt as I,o as L,p as R,pt as z,q as ge,r as _e,rt as ve,st as B,t as ye,u as V,ut as be,v as xe,y as H,z as U}from"./index-CbYOw2TZ.js";import{d as Se,f as W,i as G,o as Ce,r as K,s as we,t as Te,u as Ee}from"./common-CEw9TAyl.js";import{$ as De,B as Oe,Bt as ke,Ct as q,Gt as Ae,H as je,I as J,J as Me,Jt as Ne,K as Pe,Kt as Fe,L as Ie,N as Y,P as X,Qt as Z,R as Le,Tt as Re,U as ze,Ut as Be,W as Ve,X as He,Z as Ue,Zt as We,at as Ge,bt as Ke,cn as qe,ct as Je,dn as Ye,dt as Xe,et as Ze,ft as Qe,in as $e,it as et,ln as tt,nn as nt,nt as rt,ot as it,rt as at,sn as ot,st,tt as ct,un as lt,z as ut}from"./Vector-C8gJlEPi.js";import{n as dt,r as ft,t as pt}from"./fold-dHNhzyDU.js";import{t as mt}from"./LineString-BCsUo7mG.js";var Q=void 0,ht={height:`0`,visibility:`hidden`,overflow:Se()?``:`hidden`,position:`absolute`,"z-index":`-1000`,top:`0`,right:`0`},gt=[`letter-spacing`,`line-height`,`padding-top`,`padding-bottom`,`font-family`,`font-weight`,`font-size`,`text-rendering`,`text-transform`,`width`,`text-indent`,`padding-left`,`padding-right`,`border-width`,`box-sizing`,`word-break`],_t=e=>{let t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function vt(e){let t=window.getComputedStyle(e),n=t.getPropertyValue(`box-sizing`),r=Number.parseFloat(t.getPropertyValue(`padding-bottom`))+Number.parseFloat(t.getPropertyValue(`padding-top`)),i=Number.parseFloat(t.getPropertyValue(`border-bottom-width`))+Number.parseFloat(t.getPropertyValue(`border-top-width`));return{contextStyle:gt.map(e=>[e,t.getPropertyValue(e)]),paddingSize:r,borderSize:i,boxSizing:n}}function yt(e,t=1,n){var r;Q||(Q=document.createElement(`textarea`),(e.parentNode??document.body).appendChild(Q));let{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=vt(e);s.forEach(([e,t])=>Q?.style.setProperty(e,t)),Object.entries(ht).forEach(([e,t])=>Q?.style.setProperty(e,t,`important`)),Q.value=e.value||e.placeholder||``;let c=Q.scrollHeight,l={};o===`border-box`?c+=a:o===`content-box`&&(c-=i),Q.value=``;let u=Q.scrollHeight-i;if(h(t)){let e=u*t;o===`border-box`&&(e=e+i+a),c=Math.max(e,c),l.minHeight=`${e}px`}if(h(n)){let e=u*n;o===`border-box`&&(e=e+i+a),c=Math.min(e,c)}return l.height=`${c}px`,(r=Q.parentNode)==null||r.removeChild(Q),Q=void 0,l}var bt=e({id:{type:String,default:void 0},size:d,disabled:{type:Boolean,default:void 0},modelValue:{type:p([String,Number,Object]),default:``},modelModifiers:{type:p(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:p(String),default:`text`},resize:{type:String,values:[`none`,`both`,`horizontal`,`vertical`]},autosize:{type:p([Boolean,Object]),default:!1},autocomplete:{type:p(String),default:`off`},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:Z,default:nt},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:[`inside`,`outside`],default:`inside`},suffixIcon:{type:Z},prefixIcon:{type:Z},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:p([Object,Array,String]),default:()=>Ee({})},autofocus:Boolean,rows:{type:Number,default:2},...Ne([`ariaLabel`]),inputmode:{type:p(String),default:void 0},name:String}),xt={[Ye]:e=>j(e),input:e=>j(e),change:(e,t)=>j(e)&&(t instanceof Event||t===void 0),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},St=[`class`,`style`],Ct=/^on[A-Z]/,wt=(e={})=>{let{excludeListeners:t=!1,excludeKeys:n}=e,r=V(()=>(n?.value||[]).concat(St)),i=xe();return i?V(()=>y(Object.entries(i.proxy?.$attrs).filter(([e])=>!r.value.includes(e)&&!(t&&Ct.test(e))))):(_(`use-attrs`,`getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function`),V(()=>({})))},Tt=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute(`tabIndex`)!==null)return!0;if(e.tabIndex<0||e.hasAttribute(`disabled`)||e.getAttribute(`aria-disabled`)===`true`)return!1;switch(e.nodeName){case`A`:return!!e.href&&e.rel!==`ignore`;case`INPUT`:return!(e.type===`hidden`||e.type===`file`);case`BUTTON`:case`SELECT`:case`TEXTAREA`:return!0;default:return!1}};function Et(e,{disabled:t,beforeFocus:n,afterFocus:r,beforeBlur:i,afterBlur:a}={}){let{emit:o}=xe(),s=le(),c=E(!1),l=e=>{let i=me(n)?n(e):!1;I(t)||c.value||i||(c.value=!0,o(`focus`,e),r?.())},u=e=>{let n=me(i)?i(e):!1;I(t)||e.relatedTarget&&s.value?.contains(e.relatedTarget)||n||(c.value=!1,o(`blur`,e),a?.())};return U([s,()=>I(t)],([e,t])=>{e&&(t?e.removeAttribute(`tabindex`):e.setAttribute(`tabindex`,`-1`))}),g(s,`focus`,l,!0),g(s,`blur`,u,!0),g(s,`click`,n=>{var r;I(t)||Tt(n.target)||s.value?.contains(document.activeElement)&&s.value!==document.activeElement||(r=e.value)==null||r.focus()},!0),{isFocused:c,wrapperRef:s,handleFocus:l,handleBlur:u}}var Dt=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function Ot({afterComposition:e,emit:t}){let n=E(!1),r=e=>{t?.(`compositionstart`,e),n.value=!0},i=e=>{t?.(`compositionupdate`,e);let r=e.target?.value;n.value=!Dt(r[r.length-1]||``)},a=r=>{t?.(`compositionend`,r),n.value&&(n.value=!1,x(()=>e(r)))};return{isComposing:n,handleComposition:e=>{e.type===`compositionend`?a(e):i(e)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function kt(e){let t;function n(){if(e.value==null)return;let{selectionStart:n,selectionEnd:r,value:i}=e.value;n==null||r==null||(t={selectionStart:n,selectionEnd:r,value:i,beforeTxt:i.slice(0,Math.max(0,n)),afterTxt:i.slice(Math.max(0,r))})}function r(){if(e.value==null||t==null)return;let{value:n}=e.value,{beforeTxt:r,afterTxt:i,selectionStart:a}=t;if(r==null||i==null||a==null)return;let o=n.length;if(n.endsWith(i))o=n.length-i.length;else if(n.startsWith(r))o=r.length;else{let e=r[a-1],t=n.indexOf(e,a-1);t!==-1&&(o=t+1)}e.value.setSelectionRange(o,o)}return[n,r]}var At=[`id`,`name`,`minlength`,`maxlength`,`type`,`disabled`,`readonly`,`autocomplete`,`tabindex`,`aria-label`,`placeholder`,`form`,`autofocus`,`role`,`inputmode`],jt=[`id`,`name`,`minlength`,`maxlength`,`tabindex`,`disabled`,`readonly`,`autocomplete`,`aria-label`,`placeholder`,`form`,`autofocus`,`rows`,`role`],Mt=`ElInput`,Nt=n(r(D({name:Mt,inheritAttrs:!1,__name:`input`,props:bt,emits:xt,setup(e,{expose:t,emit:n}){let r=e,a=n,c=ie(),l=wt(),u=ae(),d=V(()=>[r.type===`textarea`?S.b():b.b(),b.m(v.value),b.is(`disabled`,y.value),b.is(`exceed`,Te.value),{[b.b(`group`)]:u.prepend||u.append,[b.m(`prefix`)]:u.prefix||r.prefixIcon,[b.m(`suffix`)]:u.suffix||r.suffixIcon||r.clearable||r.showPassword,[b.bm(`suffix`,`password-clear`)]:G.value&&Ce.value,[b.b(`hidden`)]:r.type===`hidden`},c.class]),p=V(()=>[b.e(`wrapper`),b.is(`focus`,F.value)]),{form:m,formItem:h}=Ae(),{inputId:g}=Fe(r,{formItemContext:h}),v=o(),y=i(),b=s(`input`),S=s(`textarea`),C=le(),T=le(),D=E(!1),O=E(!1),de=E(),j=le(r.inputStyle),M=V(()=>C.value||T.value),{wrapperRef:me,isFocused:F,handleFocus:L,handleBlur:ge}=Et(M,{disabled:y,afterBlur(){var e;r.validateEvent&&((e=h?.validate)==null||e.call(h,`blur`).catch(e=>_(e)))}}),_e=V(()=>m?.statusIcon??!1),B=V(()=>h?.validateState||``),ye=V(()=>B.value&&We[B.value]),xe=V(()=>O.value?ot:$e),H=V(()=>[c.style]),Se=V(()=>[r.inputStyle,j.value,{resize:r.resize}]),W=V(()=>f(r.modelValue)?``:String(r.modelValue)),G=V(()=>r.clearable&&!y.value&&!r.readonly&&!!W.value&&(F.value||D.value)),Ce=V(()=>r.showPassword&&!y.value&&!!W.value),K=V(()=>r.showWordLimit&&!!r.maxlength&&(r.type===`text`||r.type===`textarea`)&&!y.value&&!r.readonly&&!r.showPassword),we=V(()=>W.value.length),Te=V(()=>!!K.value&&we.value>Number(r.maxlength)),Ee=V(()=>!!u.suffix||!!r.suffixIcon||G.value||r.showPassword||K.value||!!B.value&&_e.value),De=V(()=>!!Object.keys(r.modelModifiers).length),[Oe,ke]=kt(C);ee(T,e=>{if(je(),!K.value||r.resize!==`both`&&r.resize!==`horizontal`)return;let{width:t}=e[0].contentRect;de.value={right:`calc(100% - ${t+22-10}px)`}});let q=()=>{let{type:e,autosize:t}=r;if(!(!te||e!==`textarea`||!T.value))if(t){let e=be(t)?t.minRows:void 0,n=be(t)?t.maxRows:void 0,r=yt(T.value,e,n);j.value={overflowY:`hidden`,...r},x(()=>{T.value.offsetHeight,j.value=r})}else j.value={minHeight:yt(T.value).minHeight}},je=(e=>{let t=!1;return()=>{t||!r.autosize||T.value?.offsetParent!==null&&(setTimeout(e),t=!0)}})(q),J=()=>{let e=M.value,t=r.formatter?r.formatter(W.value):W.value;!e||e.value===t||r.type===`file`||(e.value=t)},Me=e=>{let{trim:t,number:n}=r.modelModifiers;return t&&(e=e.trim()),n&&(e=`${_t(e)}`),r.formatter&&r.parser&&(e=r.parser(e)),e},Ne=async e=>{if(Ie.value)return;let{lazy:t}=r.modelModifiers,{value:n}=e.target;if(t){a(lt,n);return}if(n=Me(n),String(n)===W.value){r.formatter&&J();return}Oe(),a(Ye,n),a(lt,n),await x(),(r.formatter&&r.parser||!De.value)&&J(),ke()},Pe=async e=>{let{value:t}=e.target;t=Me(t),r.modelModifiers.lazy&&a(Ye,t),a(tt,t,e),await x(),J()},{isComposing:Ie,handleCompositionStart:Y,handleCompositionUpdate:X,handleCompositionEnd:Z}=Ot({emit:a,afterComposition:Ne}),Le=()=>{O.value=!O.value},Re=()=>M.value?.focus(),ze=()=>M.value?.blur(),Be=e=>{D.value=!1,a(`mouseleave`,e)},Ve=e=>{D.value=!0,a(`mouseenter`,e)},He=e=>{a(`keydown`,e)},Ue=()=>{var e;(e=M.value)==null||e.select()},Ge=()=>{a(Ye,``),a(tt,``),a(`clear`),a(lt,``)};return U(()=>r.modelValue,()=>{var e;x(()=>q()),r.validateEvent&&((e=h?.validate)==null||e.call(h,`change`).catch(e=>_(e)))}),U(W,e=>{if(!M.value)return;let{trim:t,number:n}=r.modelModifiers,i=M.value.value,a=(n||r.type===`number`)&&!/^0\d/.test(i)?`${_t(i)}`:i;a!==e&&(document.activeElement===M.value&&M.value.type!==`range`&&t&&a.trim()===e||J())}),U(()=>r.type,async()=>{await x(),J(),q()}),re(()=>{!r.formatter&&r.parser&&_(Mt,`If you set the parser, you also need to set the formatter.`),J(),x(q)}),t({input:C,textarea:T,ref:M,textareaStyle:Se,autosize:ne(r,`autosize`),isComposing:Ie,focus:Re,blur:ze,select:Ue,clear:Ge,resizeTextarea:q}),(e,t)=>(N(),P(`div`,{class:z([d.value,{[I(b).bm(`group`,`append`)]:e.$slots.append,[I(b).bm(`group`,`prepend`)]:e.$slots.prepend}]),style:he(H.value),onMouseenter:Ve,onMouseleave:Be},[R(` input `),e.type===`textarea`?(N(),P(pe,{key:1},[R(` textarea `),k(`textarea`,ce({id:I(g),ref_key:`textarea`,ref:T,class:[I(S).e(`inner`),I(b).is(`focus`,I(F))]},I(l),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:I(y),readonly:e.readonly,autocomplete:e.autocomplete,style:Se.value,"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:t[3]||=(...e)=>I(Y)&&I(Y)(...e),onCompositionupdate:t[4]||=(...e)=>I(X)&&I(X)(...e),onCompositionend:t[5]||=(...e)=>I(Z)&&I(Z)(...e),onInput:Ne,onFocus:t[6]||=(...e)=>I(L)&&I(L)(...e),onBlur:t[7]||=(...e)=>I(ge)&&I(ge)(...e),onChange:Pe,onKeydown:He}),null,16,jt),K.value?(N(),P(`span`,{key:0,style:he(de.value),class:z([I(b).e(`count`),I(b).is(`outside`,e.wordLimitPosition===`outside`)])},fe(we.value)+` / `+fe(e.maxlength),7)):R(`v-if`,!0)],64)):(N(),P(pe,{key:0},[R(` prepend slot `),e.$slots.prepend?(N(),P(`div`,{key:0,class:z(I(b).be(`group`,`prepend`))},[oe(e.$slots,`prepend`)],2)):R(`v-if`,!0),k(`div`,{ref_key:`wrapperRef`,ref:me,class:z(p.value)},[R(` prefix slot `),e.$slots.prefix||e.prefixIcon?(N(),P(`span`,{key:0,class:z(I(b).e(`prefix`))},[k(`span`,{class:z(I(b).e(`prefix-inner`))},[oe(e.$slots,`prefix`),e.prefixIcon?(N(),A(I(qe),{key:0,class:z(I(b).e(`icon`))},{default:w(()=>[(N(),A(se(e.prefixIcon)))]),_:1},8,[`class`])):R(`v-if`,!0)],2)],2)):R(`v-if`,!0),k(`input`,ce({id:I(g),ref_key:`input`,ref:C,class:I(b).e(`inner`)},I(l),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?O.value?`text`:`password`:e.type,disabled:I(y),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:t[0]||=(...e)=>I(Y)&&I(Y)(...e),onCompositionupdate:t[1]||=(...e)=>I(X)&&I(X)(...e),onCompositionend:t[2]||=(...e)=>I(Z)&&I(Z)(...e),onInput:Ne,onChange:Pe,onKeydown:He}),null,16,At),R(` suffix slot `),Ee.value?(N(),P(`span`,{key:1,class:z(I(b).e(`suffix`))},[k(`span`,{class:z(I(b).e(`suffix-inner`))},[!G.value||!Ce.value||!K.value?(N(),P(pe,{key:0},[oe(e.$slots,`suffix`),e.suffixIcon?(N(),A(I(qe),{key:0,class:z(I(b).e(`icon`))},{default:w(()=>[(N(),A(se(e.suffixIcon)))]),_:1},8,[`class`])):R(`v-if`,!0)],64)):R(`v-if`,!0),G.value?(N(),A(I(qe),{key:1,class:z([I(b).e(`icon`),I(b).e(`clear`)]),onMousedown:ue(I(ve),[`prevent`]),onClick:Ge},{default:w(()=>[(N(),A(se(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):R(`v-if`,!0),Ce.value?(N(),A(I(qe),{key:2,class:z([I(b).e(`icon`),I(b).e(`password`)]),onClick:Le,onMousedown:ue(I(ve),[`prevent`]),onMouseup:ue(I(ve),[`prevent`])},{default:w(()=>[(N(),A(se(xe.value)))]),_:1},8,[`class`,`onMousedown`,`onMouseup`])):R(`v-if`,!0),K.value?(N(),P(`span`,{key:3,class:z([I(b).e(`count`),I(b).is(`outside`,e.wordLimitPosition===`outside`)])},[k(`span`,{class:z(I(b).e(`count-inner`))},fe(we.value)+` / `+fe(e.maxlength),3)],2)):R(`v-if`,!0),B.value&&ye.value&&_e.value?(N(),A(I(qe),{key:4,class:z([I(b).e(`icon`),I(b).e(`validateIcon`),I(b).is(`loading`,B.value===`validating`)])},{default:w(()=>[(N(),A(se(ye.value)))]),_:1},8,[`class`])):R(`v-if`,!0)],2)],2)):R(`v-if`,!0)],2),R(` append slot `),e.$slots.append?(N(),P(`div`,{key:1,class:z(I(b).be(`group`,`append`))},[oe(e.$slots,`append`)],2)):R(`v-if`,!0)],64))],38))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue`]]));function Pt(e,t){let n,r=E(!1),i=ge({...e,originalPosition:``,originalOverflow:``,visible:!1});function a(e){i.text=e}function o(){let e=i.parent,t=f.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute(`loading-number`);n=Number.parseInt(n)-1,n?e.setAttribute(`loading-number`,n.toString()):(u(e,t.bm(`parent`,`relative`)),e.removeAttribute(`loading-number`)),u(e,t.bm(`parent`,`hidden`))}s(),d.unmount()}function s(){var e;(e=f.$el?.parentNode)==null||e.removeChild(f.$el)}function c(){var t;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(l,400),i.visible=!1,(t=e.closed)==null||t.call(e))}function l(){if(!r.value)return;let e=i.parent;r.value=!1,e.vLoadingAddClassList=void 0,o()}let d=_e(D({name:`ElLoading`,setup(e,{expose:t}){let{ns:n,zIndex:r}=W(`loading`);return t({ns:n,zIndex:r}),()=>{let e=i.spinner||i.svg,t=H(`svg`,{class:`circular`,viewBox:i.svgViewBox?i.svgViewBox:`0 0 50 50`,...e?{innerHTML:e}:{}},[H(`circle`,{class:`path`,cx:`25`,cy:`25`,r:`20`,fill:`none`})]),r=i.text?H(`p`,{class:n.b(`text`)},[i.text]):void 0;return H(F,{name:n.b(`fade`),onAfterLeave:l},{default:w(()=>[S(M(`div`,{style:{backgroundColor:i.background||``},class:[n.b(`mask`),i.customClass,n.is(`fullscreen`,i.fullscreen)]},[H(`div`,{class:n.b(`spinner`)},[t,r])]),[[L,i.visible]])])})}}}));Object.assign(d._context,t??{});let f=d.mount(document.createElement(`div`));return{...de(i),setText:a,removeElLoadingChild:s,close:c,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}var Ft=void 0,It=function(e={},t){if(!te)return;let n=Lt(e);if(n.fullscreen&&Ft)return Ft;let r=Pt({...n,closed:()=>{var e;(e=n.closed)==null||e.call(n),n.fullscreen&&(Ft=void 0)}},t??It._context);Rt(n,n.parent,r),zt(n,n.parent,r),n.parent.vLoadingAddClassList=()=>zt(n,n.parent,r);let i=n.parent.getAttribute(`loading-number`);return i=i?`${Number.parseInt(i)+1}`:`1`,n.parent.setAttribute(`loading-number`,i),n.parent.appendChild(r.$el),x(()=>r.visible.value=n.visible),n.fullscreen&&(Ft=r),r},Lt=e=>{let t;return t=j(e.target)?document.querySelector(e.target)??document.body:e.target||document.body,{parent:t===document.body||e.body?document.body:t,background:e.background||``,svg:e.svg||``,svgViewBox:e.svgViewBox||``,spinner:e.spinner||!1,text:e.text||``,fullscreen:t===document.body&&(e.fullscreen??!0),lock:e.lock??!1,customClass:e.customClass||``,visible:e.visible??!0,beforeClose:e.beforeClose,closed:e.closed,target:t}},Rt=async(e,t,n)=>{let{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(e.fullscreen)n.originalPosition.value=c(document.body,`position`),n.originalOverflow.value=c(document.body,`overflow`),i.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=c(document.body,`position`),await x();for(let t of[`top`,`left`]){let n=t===`top`?`scrollTop`:`scrollLeft`;i[t]=`${e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(c(document.body,`margin-${t}`),10)}px`}for(let t of[`height`,`width`])i[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=c(t,`position`);for(let[e,t]of Object.entries(i))n.$el.style[e]=t},zt=(e,t,n)=>{let r=n.vm.ns||n.vm._.exposed.ns;[`absolute`,`fixed`,`sticky`].includes(n.originalPosition.value)?u(t,r.bm(`parent`,`relative`)):l(t,r.bm(`parent`,`relative`)),e.fullscreen&&e.lock?l(t,r.bm(`parent`,`hidden`)):u(t,r.bm(`parent`,`hidden`))};It._context=null;var Bt=Symbol(`ElLoading`),$=e=>`element-loading-${B(e)}`,Vt=(e,t)=>{let n=t.instance,r=e=>be(t.value)?t.value[e]:void 0,i=e=>E(j(e)&&n?.[e]||e),a=t=>i(r(t)||e.getAttribute($(t))),o=r(`fullscreen`)??t.modifiers.fullscreen,s={text:a(`text`),svg:a(`svg`),svgViewBox:a(`svgViewBox`),spinner:a(`spinner`),background:a(`background`),customClass:a(`customClass`),fullscreen:o,target:r(`target`)??(o?void 0:e),body:r(`body`)??t.modifiers.body,lock:r(`lock`)??t.modifiers.lock},c=It(s);c._context=Ut._context,e[Bt]={options:s,instance:c}},Ht=(e,t)=>{for(let n of Object.keys(e))T(e[n])&&(e[n].value=t[n])},Ut={mounted(e,t){t.value&&Vt(e,t)},updated(e,t){let n=e[Bt];if(!t.value){n?.instance.close(),e[Bt]=null;return}n?Ht(n.options,be(t.value)?t.value:{text:e.getAttribute($(`text`)),svg:e.getAttribute($(`svg`)),svgViewBox:e.getAttribute($(`svgViewBox`)),spinner:e.getAttribute($(`spinner`)),background:e.getAttribute($(`background`)),customClass:e.getAttribute($(`customClass`))}):Vt(e,t)},unmounted(e){var t;(t=e[Bt])==null||t.instance.close(),e[Bt]=null}};Ut._context=null;var Wt=class e extends Qe{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let n=e,r=[],i=[];for(let e=0,a=n.length;e<a;++e){let a=n[e];t(r,a.getFlatCoordinates()),i.push(r.length)}let a=n.length===0?this.getLayout():n[0].getLayout();this.setFlatCoordinates(a,r),this.ends_=i}}appendLineString(e){t(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(e,t,n,r){return r<m(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(it(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),st(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,r))}getCoordinateAtM(e,t,n){return this.layout!=`XYM`&&this.layout!=`XYZM`||this.flatCoordinates.length===0?null:(t=t===void 0?!1:t,n=n===void 0?!1:n,De(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return ct(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new mt(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){let e=this.flatCoordinates,t=this.ends_,n=this.layout,r=[],i=0;for(let a=0,o=t.length;a<o;++a){let o=t[a],s=new mt(e.slice(i,o),n);r.push(s),i=o}return r}getLength(){let e=this.ends_,t=0,n=0;for(let r=0,i=e.length;r<i;++r)n+=Ve(this.flatCoordinates,t,e[r],this.stride),t=e[r];return n}getFlatMidpoints(){let e=[],n=this.flatCoordinates,r=0,i=this.ends_,a=this.stride;for(let o=0,s=i.length;o<s;++o){let s=i[o];t(e,Ue(n,r,s,a,.5)),r=s}return e}getSimplifiedGeometryInternal(t){let n=[],r=[];return n.length=je(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,`XY`,r)}getType(){return`MultiLineString`}intersectsExtent(e){return Pe(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||=[];let n=et(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}},Gt=class e extends Qe{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){t(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){let t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(e,t,n,r){if(r<m(this.getExtent(),e,t))return r;let i=this.flatCoordinates,a=this.stride;for(let o=0,s=i.length;o<s;o+=a){let s=ke(e,t,i[o],i[o+1]);if(s<r){r=s;for(let e=0;e<a;++e)n[e]=i[o+e];n.length=a}}return r}getCoordinates(){return Ze(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){let t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Oe(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){let e=this.flatCoordinates,t=this.layout,n=this.stride,r=[];for(let i=0,a=e.length;i<a;i+=n){let a=new Oe(e.slice(i,i+n),t);r.push(a)}return r}getType(){return`MultiPoint`}intersectsExtent(e){let t=this.flatCoordinates,n=this.stride;for(let r=0,i=t.length;r<i;r+=n){let n=t[r],i=t[r+1];if(a(e,n,i))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||=[],this.flatCoordinates.length=at(this.flatCoordinates,0,e,this.stride),this.changed()}},Kt=class e extends Qe{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=e,a=[],o=[];for(let e=0,n=i.length;e<n;++e){let n=i[e],r=a.length,s=n.getEnds();for(let e=0,t=s.length;e<t;++e)s[e]+=r;t(a,n.getFlatCoordinates()),o.push(s)}n=i.length===0?this.getLayout():i[0].getLayout(),e=a,r=o}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{let r=this.flatCoordinates.length;t(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let e=0,t=n.length;e<t;++e)n[e]+=r}this.endss_.push(n),this.changed()}clone(){let t=this.endss_.length,n=Array(t);for(let e=0;e<t;++e)n[e]=this.endss_[e].slice();let r=new e(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,t,n,r){return r<m(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xe(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Je(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return He(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return ut(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e===void 0?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),Ie(t,0,this.endss_,this.stride,e)),rt(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let e=Y(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Le(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Gt(this.getFlatInteriorPoints().slice(),`XYM`)}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;J(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Ie(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let n=[],r=[];return n.length=ze(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,`XY`,r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{let n=this.endss_[e-1];t=n[n.length-1]}let n=this.endss_[e].slice(),r=n[n.length-1];if(t!==0)for(let e=0,r=n.length;e<r;++e)n[e]-=t;return new X(this.flatCoordinates.slice(t,r),this.layout,n)}getPolygons(){let e=this.layout,t=this.flatCoordinates,n=this.endss_,r=[],i=0;for(let a=0,o=n.length;a<o;++a){let o=n[a].slice(),s=o[o.length-1];if(i!==0)for(let e=0,t=o.length;e<t;++e)o[e]-=i;let c=new X(t.slice(i,s),e,o);r.push(c),i=s}return r}getType(){return`MultiPolygon`}intersectsExtent(e){return Me(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||=[];let n=Ge(this.flatCoordinates,0,e,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{let e=n[n.length-1];this.flatCoordinates.length=e.length===0?0:e[e.length-1]}this.changed()}},qt=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Be,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?q(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()===`tile-pixels`&&(n=q(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return v()}readFeature(e,t){return v()}readFeatures(e,t){return v()}readGeometry(e,t){return v()}readProjection(e){return v()}writeFeature(e,t){return v()}writeFeatures(e,t){return v()}writeGeometry(e,t){return v()}};function Jt(e,t,n){let r=n?q(n.featureProjection):null,i=n?q(n.dataProjection):null,a=e;if(r&&i&&!Ke(r,i)){t&&(a=e.clone());let n=t?r:i,o=t?i:r;n.getUnits()===`tile-pixels`?a.transform(n,o):a.applyTransform(Re(n,o))}if(t&&n&&n.decimals!==void 0){let t=10**n.decimals;a===e&&(a=e.clone()),a.applyTransform(function(e){for(let n=0,r=e.length;n<r;++n)e[n]=Math.round(e[n]*t)/t;return e})}return a}var Yt=class extends qt{constructor(){super()}getType(){return`json`}readFeature(e,t){return this.readFeatureFromObject(Xt(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Xt(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return v()}readFeaturesFromObject(e,t){return v()}readGeometry(e,t){return this.readGeometryFromObject(Xt(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return v()}readProjection(e){return this.readProjectionFromObject(Xt(e))}readProjectionFromObject(e){return v()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return v()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return v()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return v()}};function Xt(e){return typeof e==`string`?JSON.parse(e)||null:e===null?null:e}var Zt=Yt,Qt=class extends Zt{constructor(e){super(),e||={},this.layerName_=e.layerName,this.layers_=e.layers?e.layers:null,this.dataProjection=q(e.dataProjection?e.dataProjection:`EPSG:4326`)}readFeaturesFromObject(e,t){if(e.type==`Topology`){let n=e,r,i=null,a=null;n.transform&&(r=n.transform,i=r.scale,a=r.translate);let o=n.arcs;r&&un(o,i,a);let s=[],c=n.objects,l=this.layerName_,u;for(let e in c)this.layers_&&!this.layers_.includes(e)||(c[e].type===`GeometryCollection`?(u=c[e],s.push.apply(s,cn(u,o,i,a,l,e,t))):(u=c[e],s.push(ln(u,o,i,a,l,e,t))));return s}return[]}readProjectionFromObject(e){return this.dataProjection}},$t={Point:tn,LineString:rn,Polygon:on,MultiPoint:nn,MultiLineString:an,MultiPolygon:sn};function en(e,t){let n=[],r;for(let i=0,a=e.length;i<a;++i)if(r=e[i],i>0&&n.pop(),r>=0){let e=t[r];for(let t=0,r=e.length;t<r;++t)n.push(e[t].slice(0))}else{let e=t[~r];for(let t=e.length-1;t>=0;--t)n.push(e[t].slice(0))}return n}function tn(e,t,n){let r=e.coordinates;return t&&n&&fn(r,t,n),new Oe(r)}function nn(e,t,n){let r=e.coordinates;if(t&&n)for(let e=0,i=r.length;e<i;++e)fn(r[e],t,n);return new Gt(r)}function rn(e,t){return new mt(en(e.arcs,t))}function an(e,t){let n=[];for(let r=0,i=e.arcs.length;r<i;++r)n[r]=en(e.arcs[r],t);return new Wt(n)}function on(e,t){let n=[];for(let r=0,i=e.arcs.length;r<i;++r)n[r]=en(e.arcs[r],t);return new X(n)}function sn(e,t){let n=[];for(let r=0,i=e.arcs.length;r<i;++r){let i=e.arcs[r],a=[];for(let e=0,n=i.length;e<n;++e)a[e]=en(i[e],t);n[r]=a}return new Kt(n)}function cn(e,t,n,r,i,a,o){let s=e.geometries,c=[];for(let e=0,l=s.length;e<l;++e)c[e]=ln(s[e],t,n,r,i,a,o);return c}function ln(e,t,n,r,i,a,o){let s=null,c=e.type;if(c){let i=$t[c];s=c===`Point`||c===`MultiPoint`?i(e,n,r):i(e,t),s=Jt(s,!1,o)}let l=new Be({geometry:s});e.id!==void 0&&l.setId(e.id);let u=e.properties;return i&&(u||={},u[i]=a),u&&l.setProperties(u,!0),l}function un(e,t,n){for(let r=0,i=e.length;r<i;++r)dn(e[r],t,n)}function dn(e,t,n){let r=0,i=0;for(let a=0,o=e.length;a<o;++a){let o=e[a];r+=o[0],i+=o[1],o[0]=r,o[1]=i,fn(o,t,n)}}function fn(e,t,n){e[0]=e[0]*t[0]+n[0],e[1]=e[1]*t[1]+n[1]}var pn=Qt;const mn=(e,t)=>{typeof t==`object`&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)},hn=e=>{let t=window.sessionStorage.getItem(e);try{return JSON.parse(t)}catch{return t}};var gn={class:`projection-zones`},_n={class:`header`},vn={class:`tree`},yn={class:`custom-tree-node`},bn=[`title`],xn=ye({__name:`index`,emits:[`popup`,`dataLoaded`],setup(e,{emit:t}){let n=O(`state`),r=O(`isMapCreated`),i=E(!1),a=E([]),o=E(!1),s=hn(`cgcs2000`),c=null,l=null,u=[],d=[],f=[],p=new pn,m=[{url:`./data/中国_省.json`,type:`province`},{url:`./data/中国_市.json`,type:`city`},{url:`./data/中国_县.json`,type:`county`}],h=E(``),g=E(),ee=t;U(h,e=>{g.value?.filter(e)}),U(r,e=>{e&&(c=n.map,te())});let _=(e,t)=>e?t.name.includes(e):!0;function te(){l=Te(c,void 0,`administrative-divisions`,100),s?a.value=s:(o.value=!0,G().then(e=>{o.value=!1,a.value=e[0].children,mn(`cgcs2000`,e[0].children)}).catch(e=>{o.value=!1,console.error(e)})),Promise.allSettled(m.map(e=>Ce(e.url).then(t=>({type:e.type,features:p.readFeatures(t)})))).then(e=>{ee(`dataLoaded`),e.forEach(e=>{if(e.status===`fulfilled`){let{type:t,features:n}=e.value;t===`province`?u=n:t===`city`?d=n:t===`county`&&(f=n)}else console.error(`[${e.reason.type}] 数据加载失败`,e.reason)})}).catch(e=>{console.error(e),ee(`dataLoaded`)})}async function v(e){let{gb:t}=C(e);String(t).endsWith(`0000`)?y(u,t):String(t).endsWith(`00`)||String(t).endsWith(`000`)?y(d,t):y(f,t)}function y(e,t){let n=e.find(e=>e.getProperties().gb===t);if(n instanceof Be){let{name:e}=n.getProperties();l.getFeatures().length>0&&l.clear(),n.setStyle(K(`rgba(0, 0, 255, 0.2)`,`rgba(0, 0, 255)`,1.25,e)),l.addFeature(n),c.getView().fit(n.getGeometry(),{duration:300,padding:[20,340,20,450]})}}function b(){i.value=!i.value}return(e,t)=>{let n=pt,r=dt,s=ft,c=Nt,l=we,u=Ut;return N(),P(pe,null,[M(F,{name:`.el-zoom-in-center`},{default:w(()=>[S(k(`div`,{class:`projection-zones-fold`,onClick:b},[M(n)],512),[[L,I(i)]])]),_:1}),M(F,{name:`.el-zoom-in-center`},{default:w(()=>[S(k(`div`,gn,[k(`div`,_n,[t[1]||=k(`div`,{class:`title`},`行政区划`,-1),k(`div`,{class:`fold`,onClick:b},[M(r)])]),M(s,{style:{margin:`10px 0`}}),M(c,{modelValue:I(h),"onUpdate:modelValue":t[0]||=e=>T(h)?h.value=e:null,style:{margin:`6px 0 10px`},placeholder:`请输入关键字`,clearable:``},null,8,[`modelValue`]),S((N(),P(`div`,vn,[M(l,{ref_key:`treeRef`,ref:g,data:I(a),"node-key":`gb`,props:{children:`children`,label:`name`},"default-expanded-keys":[],"filter-node-method":_,onNodeClick:v,"highlight-current":``,"empty-text":`暂无数据`,"expand-on-click-node":!1},{default:w(({node:e,data:t})=>[k(`span`,yn,[k(`span`,{title:e.label},fe(e.label),9,bn)])]),_:1},8,[`data`])])),[[u,I(o)]])],512),[[L,!I(i)]])]),_:1})],64)}}},[[`__scopeId`,`data-v-2c8a0b86`]]);export{Ut as n,xn as t};