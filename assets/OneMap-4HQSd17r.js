import{C as e}from"./extent-HlM_MD1c.js";import{D as t,J as n,O as r,b as i,et as a,f as o,m as s,q as c,t as l}from"./index-DH7e7bMf.js";import{t as u}from"./TdtMap-BomTSdkq.js";import"./Vector-jkDvc4W-.js";import{t as d}from"./ProjectionZones-CUesWDQO.js";import"./ZonesRender-BVZkVK5E.js";import"./vnode-CFd2o-4a.js";import{t as f}from"./OlPopup-Cd3-O5CK.js";import"./MapEventType-D5roVd50.js";var p={class:`wrap`},m=l({__name:`OneMap`,setup(l){let m=c(``),h=c([]),g=c([0,-10]),_=c([{key:`label`,val:`投影名称`,unit:null},{key:`code`,val:`EPSG`,unit:null},{key:`bounds`,val:`投影范围`,unit:null}]),v=c({}),y=c(null),b=c(!1),x=n({map:null});r(`state`,x),r(`isMapCreated`,b);function S(e){x.map=e,b.value=!0}function C(e){let t=x.map.forEachFeatureAtPixel(e.pixel,e=>e);t&&T(t.getProperties())}function w(e){T(e)}function T(t){Object.keys(t).includes(`bounds`)&&(v.value=t,m.value=t.label,h.value=e(t.bounds))}function E(){y.value?.close()}return(e,n)=>{let r=u,c=d,l=f;return t(),o(`div`,p,[s(r,{onMapCreated:S,onMapClick:C}),s(c,i(e.$attrs,{onPopup:w,onClosePopup:E}),null,16),s(l,{ref_key:`popup`,ref:y,title:a(m),position:a(h),offset:a(g),propeties:a(_),popupInfo:a(v)},null,8,[`title`,`position`,`offset`,`propeties`,`popupInfo`])])}}},[[`__scopeId`,`data-v-a5e641a1`]]);export{m as default};