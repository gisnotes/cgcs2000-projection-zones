import{C as e}from"./extent-D6dXpXWi.js";import{D as t,E as n,K as r,Q as i,f as a,m as o,q as s,t as c}from"./index-CS_7Xx1B.js";import{t as l}from"./TdtMap-DAtugaz8.js";import"./BaseVector-DU5lzx9D.js";import{t as u}from"./ProjectionZones-BUHEokcJ.js";import{t as d}from"./OlPopup-Cby5OE5Y.js";import"./MapEventType-B0kHgABJ.js";var f={class:`wrap`},p=c({__name:`OneMap`,setup(c){let p=r(``),m=r([]),h=r([0,-10]),g=r([{key:`label`,val:`投影名称`,unit:null},{key:`code`,val:`EPSG`,unit:null},{key:`bounds`,val:`投影范围`,unit:null}]),_=r({}),v=r(!1),y=s({map:null});t(`state`,y),t(`isMapCreated`,v);function b(e){y.map=e,v.value=!0}function x(e){let t=y.map.forEachFeatureAtPixel(e.pixel,e=>e);t&&C(t.getProperties())}function S(e){C(e)}function C(t){Object.keys(t).includes(`bounds`)&&(_.value=t,p.value=t.label,m.value=e(t.bounds))}return(e,t)=>{let r=l,s=u,c=d;return n(),a(`div`,f,[o(r,{onMapCreated:b,onMapClick:x}),o(s,{onPopup:S}),o(c,{title:i(p),position:i(m),offset:i(h),propeties:i(g),popupInfo:i(_)},null,8,[`title`,`position`,`offset`,`propeties`,`popupInfo`])])}}},[[`__scopeId`,`data-v-d3128620`]]);export{p as default};